### 功能性需求與非功能性需求

#### 一、功能性需求
##### 1.使用者操作功能
* 用戶可從關鍵字搜尋、篩選和排序功能，以快速定位產品。
* 用戶能輕鬆建立訂單、增減品項、調整數量與備註；並隨時修改或取消未處理的訂單內容。
* 系統支援多種支付方式，用戶可即時查詢訂單狀態、詳細內容及付款紀錄。

##### 2.商家管理功能
* 商家可隨時新增、刪除或編輯飲料品項的名稱、描述、圖片，並調整其銷售價格。
* 系統即時通知商家新訂單，商家可確認接收、變更訂單狀態，並標記處理進度。
* 系統自動彙整銷售數據，商家可依日期、產品或金額篩選，查詢歷史銷售報告及統計。

##### 3.系統管理功能
* 系統管理員可新增、編輯或停用使用者帳號，並設定不同角色（如商家）的系統操作權限。
* 系統管理員可發布系統公告與最新消息，並排程維護時間，確保系統能夠穩定運行。
* 系統定時執行資料庫備份，確保所有使用者、訂單與產品資料的安全與可恢復性。

---
#### 二、非功能性需求
##### 1.性能
* 系統所有頁面，特別是菜單和結帳頁，應在 3 秒內完成加載。
* 系統必須能穩定處理至少 700 名用戶同時下單或瀏覽的操作。
* 為產品名稱、分類及描述建立高效的索引，優化查詢速度。

##### 2.安全性
* 用戶密碼、支付資訊、訂單細節皆須加密儲存 (SSL/TLS) 。
* 用戶個資的收集、使用與隱私權規定，皆須完全遵守相關法律法規。
* 對訂單備註欄、搜尋框等所有用戶輸入內容進行嚴格的驗證與淨化處理。

##### 3.可用性
* 使用負載平衡及異地備援，特別保障下單與支付服務。
* 重點測試結帳頁面在 iOS/Android 上的兼容性，確保付款流程順暢。
* 確保顏色對比度足夠，並為圖片和菜單提供替代文字。

##### 4.可維護性
* 特別關注訂單狀態和支付邏輯的代碼清晰度。
* 記錄所有支付失敗、庫存異常或訂單超時的日誌。
* 確保更新飲品價格、新增活動時不影響用戶下單。

##### 5.可擴展性
* 系統架構須支援水平擴展，以彈性應對未來用戶訂單量的激增。
* 定期歸檔歷史訂單，確保核心交易表（如當日訂單）保持高性能。

---
### 功能分解圖
```mermaid
graph TD
    A[學餐飲料訂購系統]

     A --> B1[1. 使用者操作功能]
    B1 --> B11[1.1 註冊與登入]
    B1 --> B12[1.2 商品瀏覽與搜尋]
    B1 --> B13[1.3 建立與管理訂單]
    B1 --> B14[1.4 線上付款與查詢]

    A --> B2[2. 商家管理功能]
    B2 --> B21[2.1 商品新增與修改]
    B2 --> B22[2.2 訂單接收與處理]
    B2 --> B23[2.3 銷售紀錄查詢]

    A --> B3[3. 系統管理功能]
    B3 --> B31[3.1 使用者與權限控管]
    B3 --> B32[3.2 系統公告與維護]
    B3 --> B33[3.3 報表與資料備份]
```

---
### 使用案例圖
```mermaid
%%{init: {'theme': 'default'}}%%
graph TD

    %% 角色
    A([ 學生 ]):::actor
    B([ 店家 ]):::actor
    C([ 管理員 ]):::actor
    S[(學餐飲料訂購系統)]:::system

    %% 學生使用案例
    subgraph 學生操作
        UC1(瀏覽餐飲品項)
        UC2(建立/提交訂單)
        UC3(查看訂單狀態)
    end

    %% 店家使用案例
    subgraph 店家操作
        UC5(接收與確認訂單)
        UC6(更新製作進度)
        UC7(管理菜單與價格)
    end

    %% 管理員使用案例
    subgraph 系統管理
        UC8(帳號與權限管理)
        UC9(公告與系統維護)
    end

    %% 通知功能
    subgraph 通知功能
        UC10(系統自動通知)
    end

    %% 角色關聯
    A --> UC1
    A --> UC2
    A --> UC3

    B --> UC5
    B --> UC6
    B --> UC7

    C --> UC8
    C --> UC9

    S --> UC10
    UC10 -.通知.-> A
    UC10 -.通知.-> B

    %% Extend / include 關係
    UC2 -.觸發通知.-> UC10
    UC5 -.觸發通知.-> UC10
    UC6 -.觸發通知.-> UC10
```
![使用案例1](使用案例1.png)
![使用案例2](使用案例2.png)
![使用案例3](使用案例3.png)
